<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>${headers['title']} ${headers['version']} - ${headers['subtitle']}</title>
		<link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
		<link href="//bootswatch.com/cerulean/bootstrap.min.css" rel="stylesheet" />
		<link href="${base}css/page.css?${version}" rel="stylesheet" />
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">HAProxy Documentation</a>
			</div>
			<!-- /.navbar-header -->

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="menu">
				<ul class="nav navbar-nav">
					%for item in menu:
						<li class="${'active' if headers['subtitle'] == item[1] else ''}"><a href="${item[0]}">${item[1]}</a></li>
					%endfor
				</ul>
				<ul class="nav navbar-nav">
					<li><a href="http://www.haproxy.org/">HAProxy Home Page</a></li>
				</ul>
			</div>
		</nav>
		<!-- /.navbar-static-side -->

		<div id="wrapper">

			<div id="sidebar">
					</div>
				</form>
				<p>
					Keyboard navigation&nbsp;: <span id="keyboardNavStatus"></span>
				</p>
				<p>
					You can use <strong>left</strong> and <strong>right</strong> arrow keys to navigate between chapters.<br>
				</p>
				<p class="text-right">
					<small>Converted with <a href="https://github.com/cbonte/haproxy-dconv">haproxy-dconv</a> v<b>${version}</b> on <b>${date}</b></small>
				</p>
			</div>
			<!-- /.sidebar -->

			<div id="page-wrapper">
				<div class="row">
					<div class="col-lg-12">
						<div class="text-center">
							<h1>${headers['title']}</h1>
							<h2>${headers['subtitle']}</h2>
							<p><strong>${headers['version']}</strong></p>
							<p>
								<a href="http://www.haproxy.org/" title="HAProxy Home Page"><img src="${base}img/logo-med.png" /></a><br>
								${headers['author']}<br>
								${headers['date']}
							</p>
						</div>

						${document}
						<br>
						<hr>
						<div class="text-right">
							${headers['title']} ${headers['version'].replace("version ", "")} &ndash; ${headers['subtitle']}<br>
							<small>${headers['date']}, ${headers['author']}</small>
						</div>
					</div>
					<!-- /.col-lg-12 -->
				</div>
				<!-- /.row -->
				<div style="position: fixed; z-index: 1000; bottom: 0; left: 0; right: 0; padding: 10px">
					<ul class="pager" style="margin: 0">
						<li class="previous"><a id="previous" href="#"></a></li>
						<li class="next"><a id="next" href="#"></a></li>
					</ul>
				</div>
			</div>
			<!-- /#page-wrapper -->

		</div>
		<!-- /#wrapper -->

		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<script>
			/* EXPERIMENTAL - Previous/Next navigation */
			var headings = $(":header")
			var previousTarget = false
			var nextTarget = false
			var $previous = $('#previous')
			var $next = $('#next')
			function refreshNavigation() {
				var previous = false
				var next = false
				$.each(headings, function(item, value) {
					var el = $(value)

					// TODO : avoid target recalculation on each refresh
					var target = el.attr('data-target')
					if (! target) return true

					var target_el = $('#' + target.replace(/\./, "\\."))
					if (! target_el.attr('id')) return true

					if (target_el.offset().top < $(window).scrollTop()) {
						previous = el
					}
					if (target_el.offset().top - 1 > $(window).scrollTop()) {
						next = el
					}
					if (next) return false
				})

				previousTarget = previous ? previous.attr('data-target') : 'top'
				$previous.html(
					previous && previousTarget ?
						'<span class="glyphicon glyphicon-arrow-left"></span> ' + previous.text() :
						'<span class="glyphicon glyphicon-arrow-up"></span> Top'
				).attr('href', '#' + previousTarget)

				nextTarget = next ? next.attr('data-target') : 'bottom'
				$next.html(
					next && nextTarget ?
						next.text() + ' <span class="glyphicon glyphicon-arrow-right"></span>' :
						'Bottom <span class="glyphicon glyphicon-arrow-down"></span>'
				).attr('href', '#' + nextTarget)
			}

			$(window).scroll(function () {
				refreshNavigation()
			});
			$(document).ready(function() {
				refreshNavigation()
			});

			/* EXPERIMENTAL - Enable keyboard navigation */
			$(document).keydown(function(e){
				if (!(e.altKey || e.ctrlKey || e.shiftKey || e.metaKey)) {
					switch(e.which) {
						case 37: // left
						window.location.hash = previousTarget ? previousTarget : 'top'
						break

						case 39: // right
						window.location.hash = nextTarget ? nextTarget : 'bottom'
						break

						default: return // exit this handler for other keys
					}
					e.preventDefault()
				}
			})
		</script>
		${footer}
		<a class="anchor" name="bottom"></a>
	</body>
</html>
